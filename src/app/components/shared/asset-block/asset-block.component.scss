@use 'sass:color';
@use '../../../../scss' as *;

:host {
  position: relative;
  width: calc($game-block-size - 1px);
  height: calc($game-block-size - 1px);
  &.game-block {
    position: absolute;
    pointer-events: none;
  }
  img {
    width: 100%;
    height: 100%;
  }
}

$food-normal: green;
$food-yummy: teal;
$food-delicious: blueviolet;

@mixin food-overlay {
  border-radius: 50%;
  @include pseudo-element-overlay(30%, 30%, 40%, 40%);
}

@mixin food-shadow($color) {
  box-shadow: 0 0 2px 2px color.adjust($color, $alpha: -0.5);
}

:host.food {
  &:before {
    @include food-overlay;
  }
  &:after {
    animation: food-pulse 1s infinite;
    @include food-overlay;
  }
  &.normal {
    &:before {
      background-color: $food-normal;
    }
    &:after {
      @include food-shadow($food-normal);
    }
  }
  &.yummy {
    &:before {
      background-color: $food-yummy;
    }
    &:after {
      @include food-shadow($food-yummy);
    }
  }
  &.delicious {
    &:before {
      background-color: $food-delicious;
    }
    &:after {
      @include food-shadow($food-delicious);
    }
  }
}

@keyframes food-pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.4);
  }
  100% {
    transform: scale(1);
  }
}